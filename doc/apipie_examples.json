{
  "customers#search": [
    {
      "title": "CustomersController#search works when searching a first_name",
      "verb": "GET",
      "path": "/customers/search",
      "versions": [
        "1.0"
      ],
      "query": "query=Jean",
      "request_data": null,
      "response_data": {
        "customers": [
          {
            "id": 4428,
            "first_name": "Jean",
            "last_name": "Dupont",
            "address": "30116 Pfeffer Lights",
            "zip_code": "99787",
            "city": "Lake Galebury",
            "country": "Saint Lucia",
            "country_code": "LC"
          },
          {
            "id": 4429,
            "first_name": "Jean",
            "last_name": "Dupond",
            "address": "735 Hegmann Spurs",
            "zip_code": "07368",
            "city": "South Evelina",
            "country": "Svalbard and Jan Mayen",
            "country_code": "SJ"
          },
          {
            "id": 4430,
            "first_name": "Jean",
            "last_name": "Bonneau",
            "address": "98625 Collins Valley",
            "zip_code": "36991-0780",
            "city": "East Alphonsemouth",
            "country": "Panama",
            "country_code": "PA"
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 3
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "CustomersController#search works when searching with a last_name case-insensitively",
      "verb": "GET",
      "path": "/customers/search",
      "versions": [
        "1.0"
      ],
      "query": "query=dupont",
      "request_data": null,
      "response_data": {
        "customers": [
          {
            "id": 4432,
            "first_name": "Martin",
            "last_name": "Dupont",
            "address": "86204 Ian Extension",
            "zip_code": "58398",
            "city": "North Andreston",
            "country": "Cocos (Keeling) Islands",
            "country_code": "CC"
          },
          {
            "id": 4433,
            "first_name": "Pierre",
            "last_name": "Dupont",
            "address": "121 Alfonso Wall",
            "zip_code": "98627",
            "city": "North Bernetta",
            "country": "Tuvalu",
            "country_code": "TV"
          },
          {
            "id": 4434,
            "first_name": "Jean",
            "last_name": "Dupont",
            "address": "5735 Fahey Lane",
            "zip_code": "81902",
            "city": "South Namtown",
            "country": "Mozambique",
            "country_code": "MZ"
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 3
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "CustomersController#search works when searching part of last name",
      "verb": "GET",
      "path": "/customers/search",
      "versions": [
        "1.0"
      ],
      "query": "query=dupon",
      "request_data": null,
      "response_data": {
        "customers": [
          {
            "id": 4438,
            "first_name": "Martin",
            "last_name": "Dupont",
            "address": "3261 Swift Circles",
            "zip_code": "35040",
            "city": "South Adrien",
            "country": "Zimbabwe",
            "country_code": "ZW"
          },
          {
            "id": 4439,
            "first_name": "Pierre",
            "last_name": "Dupont",
            "address": "26909 Kerluke Route",
            "zip_code": "11803-5437",
            "city": "North Reyesborough",
            "country": "Kiribati",
            "country_code": "KI"
          },
          {
            "id": 4440,
            "first_name": "Jean",
            "last_name": "Dupont",
            "address": "6042 Jast Spur",
            "zip_code": "63509-4116",
            "city": "Mayerton",
            "country": "Singapore",
            "country_code": "SG"
          },
          {
            "id": 4441,
            "first_name": "Jean",
            "last_name": "Dupond",
            "address": "2741 Marcos Lane",
            "zip_code": "01559-0359",
            "city": "East Janieceton",
            "country": "San Marino",
            "country_code": "SM"
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 4
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "CustomersController#search mixes results for first and last name",
      "verb": "GET",
      "path": "/customers/search",
      "versions": [
        "1.0"
      ],
      "query": "query=martin",
      "request_data": null,
      "response_data": {
        "customers": [
          {
            "id": 4444,
            "first_name": "Martin",
            "last_name": "Dupont",
            "address": "3400 Stanton Curve",
            "zip_code": "56466-5827",
            "city": "East Johnathonburgh",
            "country": "United States Minor Outlying Islands",
            "country_code": "UM"
          },
          {
            "id": 4449,
            "first_name": "Jacques",
            "last_name": "Martin",
            "address": "8078 Sporer Square",
            "zip_code": "83289-0019",
            "city": "Jefferyfurt",
            "country": "Gambia",
            "country_code": "GM"
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 2
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    }
  ],
  "invoices#create": [
    {
      "title": "InvoicesController creating an invoice works properly with only a customer",
      "verb": "POST",
      "path": "/invoices",
      "versions": [
        "1.0"
      ],
      "query": null,
      "request_data": {
        "invoice": {
          "customer_id": 4508
        }
      },
      "response_data": {
        "id": 3680,
        "customer_id": 4508,
        "finalized": false,
        "paid": false,
        "date": null,
        "deadline": null,
        "total": "0.0",
        "tax": "0.0",
        "customer": {
          "id": 4508,
          "first_name": "Hugo",
          "last_name": "Mosciski",
          "address": "35036 White Station",
          "zip_code": "07347-4253",
          "city": "Lemkeside",
          "country": "Cook Islands",
          "country_code": "CK"
        },
        "invoice_lines": [

        ]
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "InvoicesController creating an invoice works properly when adding all information",
      "verb": "POST",
      "path": "/invoices",
      "versions": [
        "1.0"
      ],
      "query": null,
      "request_data": {
        "invoice": {
          "customer_id": 4509,
          "finalized": false,
          "paid": false,
          "date": "2021-02-03",
          "deadline": "2021-03-05",
          "invoice_lines_attributes": [
            {
              "product_id": 13840,
              "quantity": 1,
              "unit": "piece",
              "label": "Produit",
              "vat_rate": "20",
              "price": 120,
              "tax": 20
            }
          ]
        }
      },
      "response_data": {
        "id": 3681,
        "customer_id": 4509,
        "finalized": false,
        "paid": false,
        "date": "2021-02-03",
        "deadline": "2021-03-05",
        "total": "120.0",
        "tax": "20.0",
        "customer": {
          "id": 4509,
          "first_name": "Rachael",
          "last_name": "Gerhold",
          "address": "8690 Hugo Throughway",
          "zip_code": "84304",
          "city": "Fredricmouth",
          "country": "Congo",
          "country_code": "CG"
        },
        "invoice_lines": [
          {
            "id": 6680,
            "invoice_id": 3681,
            "product_id": 13840,
            "quantity": 1,
            "unit": "piece",
            "label": "Produit",
            "vat_rate": "20",
            "price": "120.0",
            "tax": "20.0",
            "product": {
              "id": 13840,
              "label": "Honda CR-V",
              "unit_price": "29925.0",
              "unit_price_without_tax": "29925.0",
              "unit_tax": "0.0"
            }
          }
        ]
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    }
  ],
  "invoices#destroy": [
    {
      "title": "InvoicesController destroying an invoice works properly",
      "verb": "DELETE",
      "path": "/invoices/3682",
      "versions": [
        "1.0"
      ],
      "query": null,
      "request_data": null,
      "response_data": null,
      "code": 204,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "InvoicesController destroying an invoice shows error when applicable",
      "verb": "DELETE",
      "path": "/invoices/3683",
      "versions": [
        "1.0"
      ],
      "query": null,
      "request_data": null,
      "response_data": {
        "message": "Une facture finalisée ne peut pas être supprimée"
      },
      "code": 422,
      "show_in_doc": 1,
      "recorded": true
    }
  ],
  "invoices#index": [
    {
      "title": "InvoicesController#index searching by customer works",
      "verb": "GET",
      "path": "/invoices",
      "versions": [
        "1.0"
      ],
      "query": "search=%5B%7B%22field%22%3A%22customer.first_name%22%2C%22operator%22%3A%22search%22%2C%22value%22%3A%222%22%7D%5D",
      "request_data": null,
      "response_data": {
        "invoices": [
          {
            "id": 3623,
            "customer_id": 4452,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "33735.0",
            "tax": "1758.7",
            "customer": {
              "id": 4452,
              "first_name": "2",
              "last_name": "O'Kon",
              "address": "6769 Ross Lane",
              "zip_code": "53351",
              "city": "East Valentine",
              "country": "Spain",
              "country_code": "ES"
            },
            "invoice_lines": [
              {
                "id": 6570,
                "invoice_id": 3623,
                "product_id": 13731,
                "quantity": 1,
                "unit": "day",
                "label": "4",
                "vat_rate": "5.5",
                "price": "8035.0",
                "tax": "418.89",
                "product": {
                  "id": 13731,
                  "label": "Buick Enclave",
                  "unit_price": "8035.0",
                  "unit_price_without_tax": "7616.11",
                  "unit_tax": "418.89"
                }
              },
              {
                "id": 6571,
                "invoice_id": 3623,
                "product_id": 13732,
                "quantity": 1,
                "unit": "piece",
                "label": "5",
                "vat_rate": "5.5",
                "price": "25700.0",
                "tax": "1339.81",
                "product": {
                  "id": 13732,
                  "label": "Dodge Ram",
                  "unit_price": "25700.0",
                  "unit_price_without_tax": "24360.19",
                  "unit_tax": "1339.81"
                }
              }
            ]
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 1
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "InvoicesController#index searching by customer works with the customer_id",
      "verb": "GET",
      "path": "/invoices",
      "versions": [
        "1.0"
      ],
      "query": "search=%5B%7B%22field%22%3A%22customer_id%22%2C%22operator%22%3A%22eq%22%2C%22value%22%3A4461%7D%5D",
      "request_data": null,
      "response_data": {
        "invoices": [
          {
            "id": 3632,
            "customer_id": 4461,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "21740.0",
            "tax": "1976.36",
            "customer": {
              "id": 4461,
              "first_name": "0",
              "last_name": "Jenkins",
              "address": "86136 Dania Land",
              "zip_code": "85967-6871",
              "city": "New Jovan",
              "country": "Vanuatu",
              "country_code": "VU"
            },
            "invoice_lines": [
              {
                "id": 6588,
                "invoice_id": 3632,
                "product_id": 13749,
                "quantity": 1,
                "unit": "hour",
                "label": "0",
                "vat_rate": "10",
                "price": "9550.0",
                "tax": "868.18",
                "product": {
                  "id": 13749,
                  "label": "Ford Mustang",
                  "unit_price": "9550.0",
                  "unit_price_without_tax": "8681.82",
                  "unit_tax": "868.18"
                }
              },
              {
                "id": 6589,
                "invoice_id": 3632,
                "product_id": 13750,
                "quantity": 1,
                "unit": "piece",
                "label": "1",
                "vat_rate": "10",
                "price": "12190.0",
                "tax": "1108.18",
                "product": {
                  "id": 13750,
                  "label": "Dodge Ram",
                  "unit_price": "12190.0",
                  "unit_price_without_tax": "11081.82",
                  "unit_tax": "1108.18"
                }
              }
            ]
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 1
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "InvoicesController#index search_any works",
      "verb": "GET",
      "path": "/invoices",
      "versions": [
        "1.0"
      ],
      "query": "search=%5B%7B%22operator%22%3A%22search_any%22%2C%22value%22%3A%222%22%7D%5D",
      "request_data": null,
      "response_data": {
        "invoices": [
          {
            "id": 3644,
            "customer_id": 4473,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "41860.0",
            "tax": "5659.24",
            "customer": {
              "id": 4473,
              "first_name": "1",
              "last_name": "Dickinson",
              "address": "67851 Jan Key",
              "zip_code": "56853-1494",
              "city": "North Leland",
              "country": "Croatia",
              "country_code": "HR"
            },
            "invoice_lines": [
              {
                "id": 6612,
                "invoice_id": 3644,
                "product_id": 13773,
                "quantity": 1,
                "unit": "day",
                "label": "2",
                "vat_rate": "20",
                "price": "24470.0",
                "tax": "4078.33",
                "product": {
                  "id": 13773,
                  "label": "Ford Fiesta",
                  "unit_price": "24470.0",
                  "unit_price_without_tax": "20391.67",
                  "unit_tax": "4078.33"
                }
              },
              {
                "id": 6613,
                "invoice_id": 3644,
                "product_id": 13774,
                "quantity": 1,
                "unit": "piece",
                "label": "3",
                "vat_rate": "10",
                "price": "17390.0",
                "tax": "1580.91",
                "product": {
                  "id": 13774,
                  "label": "Chevy Malibu",
                  "unit_price": "17390.0",
                  "unit_price_without_tax": "15809.09",
                  "unit_tax": "1580.91"
                }
              }
            ]
          },
          {
            "id": 3645,
            "customer_id": 4474,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "47005.0",
            "tax": "2946.67",
            "customer": {
              "id": 4474,
              "first_name": "2",
              "last_name": "D'Amore",
              "address": "861 Cronin Inlet",
              "zip_code": "36616",
              "city": "Haucktown",
              "country": "United Kingdom of Great Britain and Northern Ireland",
              "country_code": "GB"
            },
            "invoice_lines": [
              {
                "id": 6614,
                "invoice_id": 3645,
                "product_id": 13775,
                "quantity": 1,
                "unit": "piece",
                "label": "4",
                "vat_rate": "0",
                "price": "29325.0",
                "tax": "0.0",
                "product": {
                  "id": 13775,
                  "label": "Honda Civic",
                  "unit_price": "29325.0",
                  "unit_price_without_tax": "29325.0",
                  "unit_tax": "0.0"
                }
              },
              {
                "id": 6615,
                "invoice_id": 3645,
                "product_id": 13776,
                "quantity": 1,
                "unit": "day",
                "label": "5",
                "vat_rate": "20",
                "price": "17680.0",
                "tax": "2946.67",
                "product": {
                  "id": 13776,
                  "label": "BMW 328i",
                  "unit_price": "17680.0",
                  "unit_price_without_tax": "14733.33",
                  "unit_tax": "2946.67"
                }
              }
            ]
          },
          {
            "id": 3649,
            "customer_id": 4478,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "31895.0",
            "tax": "1662.78",
            "customer": {
              "id": 4478,
              "first_name": "6",
              "last_name": "O'Kon",
              "address": "49423 Lura Junctions",
              "zip_code": "72432",
              "city": "Hicklemouth",
              "country": "Antarctica",
              "country_code": "AQ"
            },
            "invoice_lines": [
              {
                "id": 6622,
                "invoice_id": 3649,
                "product_id": 13783,
                "quantity": 1,
                "unit": "piece",
                "label": "12",
                "vat_rate": "5.5",
                "price": "13540.0",
                "tax": "705.88",
                "product": {
                  "id": 13783,
                  "label": "Audi S5",
                  "unit_price": "13540.0",
                  "unit_price_without_tax": "12834.12",
                  "unit_tax": "705.88"
                }
              },
              {
                "id": 6623,
                "invoice_id": 3649,
                "product_id": 13784,
                "quantity": 1,
                "unit": "hour",
                "label": "13",
                "vat_rate": "5.5",
                "price": "18355.0",
                "tax": "956.9",
                "product": {
                  "id": 13784,
                  "label": "Honda CR-V",
                  "unit_price": "18355.0",
                  "unit_price_without_tax": "17398.1",
                  "unit_tax": "956.9"
                }
              }
            ]
          },
          {
            "id": 3653,
            "customer_id": 4482,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "56085.0",
            "tax": "1400.81",
            "customer": {
              "id": 4482,
              "first_name": "10",
              "last_name": "Kris",
              "address": "57340 Rocco Mountain",
              "zip_code": "68935",
              "city": "South Numbersmouth",
              "country": "Israel",
              "country_code": "IL"
            },
            "invoice_lines": [
              {
                "id": 6630,
                "invoice_id": 3653,
                "product_id": 13791,
                "quantity": 1,
                "unit": "day",
                "label": "20",
                "vat_rate": "0",
                "price": "29215.0",
                "tax": "0.0",
                "product": {
                  "id": 13791,
                  "label": "Audi A4",
                  "unit_price": "29215.0",
                  "unit_price_without_tax": "29215.0",
                  "unit_tax": "0.0"
                }
              },
              {
                "id": 6631,
                "invoice_id": 3653,
                "product_id": 13792,
                "quantity": 1,
                "unit": "piece",
                "label": "21",
                "vat_rate": "5.5",
                "price": "26870.0",
                "tax": "1400.81",
                "product": {
                  "id": 13792,
                  "label": "Lincoln MKZ",
                  "unit_price": "26870.0",
                  "unit_price_without_tax": "25469.19",
                  "unit_tax": "1400.81"
                }
              }
            ]
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 4
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "InvoicesController#index searching by customer_id works with eq operator",
      "verb": "GET",
      "path": "/invoices",
      "versions": [
        "1.0"
      ],
      "query": "search=%5B%7B%22field%22%3A%22customer_id%22%2C%22operator%22%3A%22eq%22%2C%22value%22%3A4483%7D%5D",
      "request_data": null,
      "response_data": {
        "invoices": [
          {
            "id": 3654,
            "customer_id": 4483,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "25315.0",
            "tax": "2992.51",
            "customer": {
              "id": 4483,
              "first_name": "0",
              "last_name": "Hilpert",
              "address": "5158 Huels Grove",
              "zip_code": "28054",
              "city": "Port Tijuanahaven",
              "country": "Lesotho",
              "country_code": "LS"
            },
            "invoice_lines": [
              {
                "id": 6632,
                "invoice_id": 3654,
                "product_id": 13793,
                "quantity": 1,
                "unit": "hour",
                "label": "0",
                "vat_rate": "20",
                "price": "14605.0",
                "tax": "2434.17",
                "product": {
                  "id": 13793,
                  "label": "Dodge Charger",
                  "unit_price": "14605.0",
                  "unit_price_without_tax": "12170.83",
                  "unit_tax": "2434.17"
                }
              },
              {
                "id": 6633,
                "invoice_id": 3654,
                "product_id": 13794,
                "quantity": 1,
                "unit": "day",
                "label": "1",
                "vat_rate": "5.5",
                "price": "10710.0",
                "tax": "558.34",
                "product": {
                  "id": 13794,
                  "label": "Dodge Ram",
                  "unit_price": "10710.0",
                  "unit_price_without_tax": "10151.66",
                  "unit_tax": "558.34"
                }
              }
            ]
          },
          {
            "id": 3665,
            "customer_id": 4483,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "0.0",
            "tax": "0.0",
            "customer": {
              "id": 4483,
              "first_name": "0",
              "last_name": "Hilpert",
              "address": "5158 Huels Grove",
              "zip_code": "28054",
              "city": "Port Tijuanahaven",
              "country": "Lesotho",
              "country_code": "LS"
            },
            "invoice_lines": [

            ]
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 2
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "InvoicesController#index searching by customer_id works with in operator",
      "verb": "GET",
      "path": "/invoices",
      "versions": [
        "1.0"
      ],
      "query": "search=%5B%7B%22field%22%3A%22customer_id%22%2C%22operator%22%3A%22in%22%2C%22value%22%3A%5B4494%2C4495%2C4496%5D%7D%5D",
      "request_data": null,
      "response_data": {
        "invoices": [
          {
            "id": 3666,
            "customer_id": 4494,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "30020.0",
            "tax": "2300.03",
            "customer": {
              "id": 4494,
              "first_name": "0",
              "last_name": "Dibbert",
              "address": "5513 Rasheeda Keys",
              "zip_code": "65244",
              "city": "New Linshire",
              "country": "Zimbabwe",
              "country_code": "ZW"
            },
            "invoice_lines": [
              {
                "id": 6654,
                "invoice_id": 3666,
                "product_id": 13815,
                "quantity": 1,
                "unit": "piece",
                "label": "0",
                "vat_rate": "5.5",
                "price": "11065.0",
                "tax": "576.85",
                "product": {
                  "id": 13815,
                  "label": "BMW X5",
                  "unit_price": "11065.0",
                  "unit_price_without_tax": "10488.15",
                  "unit_tax": "576.85"
                }
              },
              {
                "id": 6655,
                "invoice_id": 3666,
                "product_id": 13816,
                "quantity": 1,
                "unit": "piece",
                "label": "1",
                "vat_rate": "10",
                "price": "18955.0",
                "tax": "1723.18",
                "product": {
                  "id": 13816,
                  "label": "BMW 328i",
                  "unit_price": "18955.0",
                  "unit_price_without_tax": "17231.82",
                  "unit_tax": "1723.18"
                }
              }
            ]
          },
          {
            "id": 3667,
            "customer_id": 4495,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "42925.0",
            "tax": "1770.0",
            "customer": {
              "id": 4495,
              "first_name": "1",
              "last_name": "Kihn",
              "address": "230 Monahan Villages",
              "zip_code": "11655",
              "city": "Cristinaland",
              "country": "Bangladesh",
              "country_code": "BD"
            },
            "invoice_lines": [
              {
                "id": 6656,
                "invoice_id": 3667,
                "product_id": 13817,
                "quantity": 1,
                "unit": "piece",
                "label": "2",
                "vat_rate": "10",
                "price": "19470.0",
                "tax": "1770.0",
                "product": {
                  "id": 13817,
                  "label": "Honda CR-V",
                  "unit_price": "19470.0",
                  "unit_price_without_tax": "17700.0",
                  "unit_tax": "1770.0"
                }
              },
              {
                "id": 6657,
                "invoice_id": 3667,
                "product_id": 13818,
                "quantity": 1,
                "unit": "piece",
                "label": "3",
                "vat_rate": "0",
                "price": "23455.0",
                "tax": "0.0",
                "product": {
                  "id": 13818,
                  "label": "Dodge Challenger",
                  "unit_price": "23455.0",
                  "unit_price_without_tax": "23455.0",
                  "unit_tax": "0.0"
                }
              }
            ]
          },
          {
            "id": 3668,
            "customer_id": 4496,
            "finalized": false,
            "paid": false,
            "date": "2021-02-03",
            "deadline": null,
            "total": "41090.0",
            "tax": "1341.64",
            "customer": {
              "id": 4496,
              "first_name": "2",
              "last_name": "Hessel",
              "address": "87764 Broderick Stream",
              "zip_code": "65148-8818",
              "city": "Saulbury",
              "country": "Poland",
              "country_code": "PL"
            },
            "invoice_lines": [
              {
                "id": 6658,
                "invoice_id": 3668,
                "product_id": 13819,
                "quantity": 1,
                "unit": "day",
                "label": "4",
                "vat_rate": "5.5",
                "price": "25735.0",
                "tax": "1341.64",
                "product": {
                  "id": 13819,
                  "label": "Buick Riveria",
                  "unit_price": "25735.0",
                  "unit_price_without_tax": "24393.36",
                  "unit_tax": "1341.64"
                }
              },
              {
                "id": 6659,
                "invoice_id": 3668,
                "product_id": 13820,
                "quantity": 1,
                "unit": "day",
                "label": "5",
                "vat_rate": "0",
                "price": "15355.0",
                "tax": "0.0",
                "product": {
                  "id": 13820,
                  "label": "Chevy Silverado",
                  "unit_price": "15355.0",
                  "unit_price_without_tax": "15355.0",
                  "unit_tax": "0.0"
                }
              }
            ]
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 3
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    }
  ],
  "invoices#update": [
    {
      "title": "InvoicesController#update destroying an invoice_line works properly",
      "verb": "PUT",
      "path": "/invoices/3677",
      "versions": [
        "1.0"
      ],
      "query": null,
      "request_data": {
        "invoice": {
          "invoice_lines_attributes": [
            {
              "id": 6676,
              "_destroy": true
            }
          ]
        }
      },
      "response_data": {
        "id": 3677,
        "customer_id": 4505,
        "finalized": false,
        "paid": false,
        "date": "2021-02-03",
        "deadline": null,
        "total": "0.0",
        "tax": "0.0",
        "customer": {
          "id": 4505,
          "first_name": "Loren",
          "last_name": "VonRueden",
          "address": "10877 Jakubowski Village",
          "zip_code": "24099",
          "city": "Kemmertown",
          "country": "Moldova (Republic of)",
          "country_code": "MD"
        },
        "invoice_lines": [

        ]
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "InvoicesController#update updating an invoice_line works properly",
      "verb": "PUT",
      "path": "/invoices/3678",
      "versions": [
        "1.0"
      ],
      "query": null,
      "request_data": {
        "invoice": {
          "invoice_lines_attributes": [
            {
              "id": 6677,
              "quantity": 2
            }
          ]
        }
      },
      "response_data": {
        "id": 3678,
        "customer_id": 4506,
        "finalized": false,
        "paid": false,
        "date": "2021-02-03",
        "deadline": null,
        "total": "15235.0",
        "tax": "794.24",
        "customer": {
          "id": 4506,
          "first_name": "Cleo",
          "last_name": "Langworth",
          "address": "206 Desmond Center",
          "zip_code": "68808-7839",
          "city": "Port Trinidadchester",
          "country": "Qatar",
          "country_code": "QA"
        },
        "invoice_lines": [
          {
            "id": 6677,
            "invoice_id": 3678,
            "product_id": 13838,
            "quantity": 2,
            "unit": "hour",
            "label": "BMW M5",
            "vat_rate": "5.5",
            "price": "15235.0",
            "tax": "794.24",
            "product": {
              "id": 13838,
              "label": "BMW M5",
              "unit_price": "15235.0",
              "unit_price_without_tax": "14440.76",
              "unit_tax": "794.24"
            }
          }
        ]
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "InvoicesController#update adding a new invoice_line works properly",
      "verb": "PUT",
      "path": "/invoices/3679",
      "versions": [
        "1.0"
      ],
      "query": null,
      "request_data": {
        "invoice": {
          "invoice_lines_attributes": [
            {
              "product_id": 13839,
              "label": "New line",
              "quantity": 1,
              "unit": "piece",
              "vat_rate": "20",
              "price": 100
            }
          ]
        }
      },
      "response_data": {
        "id": 3679,
        "customer_id": 4507,
        "finalized": false,
        "paid": false,
        "date": "2021-02-03",
        "deadline": null,
        "total": "27845.0",
        "tax": "1463.09",
        "customer": {
          "id": 4507,
          "first_name": "Blanch",
          "last_name": "Marks",
          "address": "83318 Jenifer Village",
          "zip_code": "71655-2277",
          "city": "Quitzonborough",
          "country": "Bonaire, Sint Eustatius and Saba",
          "country_code": "BQ"
        },
        "invoice_lines": [
          {
            "id": 6678,
            "invoice_id": 3679,
            "product_id": 13839,
            "quantity": 1,
            "unit": "piece",
            "label": "Audi A8",
            "vat_rate": "5.5",
            "price": "27745.0",
            "tax": "1446.42",
            "product": {
              "id": 13839,
              "label": "Audi A8",
              "unit_price": "27745.0",
              "unit_price_without_tax": "26298.58",
              "unit_tax": "1446.42"
            }
          },
          {
            "id": 6679,
            "invoice_id": 3679,
            "product_id": 13839,
            "quantity": 1,
            "unit": "piece",
            "label": "New line",
            "vat_rate": "20",
            "price": "100.0",
            "tax": "16.67",
            "product": {
              "id": 13839,
              "label": "Audi A8",
              "unit_price": "27745.0",
              "unit_price_without_tax": "26298.58",
              "unit_tax": "1446.42"
            }
          }
        ]
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    }
  ],
  "products#search": [
    {
      "title": "ProductsController#search works when searching a brand",
      "verb": "GET",
      "path": "/products/search",
      "versions": [
        "1.0"
      ],
      "query": "query=Renault",
      "request_data": null,
      "response_data": {
        "products": [
          {
            "id": 13841,
            "label": "Renault Clio",
            "unit_price": "26595.0",
            "unit_price_without_tax": "25208.53",
            "unit_tax": "1386.47"
          },
          {
            "id": 13842,
            "label": "Renault Clio 2",
            "unit_price": "25255.0",
            "unit_price_without_tax": "21045.83",
            "unit_tax": "4209.17"
          },
          {
            "id": 13843,
            "label": "Renault Scenic",
            "unit_price": "23565.0",
            "unit_price_without_tax": "22336.49",
            "unit_tax": "1228.51"
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 3
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "ProductsController#search works when searching with a space",
      "verb": "GET",
      "path": "/products/search",
      "versions": [
        "1.0"
      ],
      "query": "query=Renault+Clio",
      "request_data": null,
      "response_data": {
        "products": [
          {
            "id": 13847,
            "label": "Renault Clio",
            "unit_price": "29375.0",
            "unit_price_without_tax": "26704.55",
            "unit_tax": "2670.45"
          },
          {
            "id": 13848,
            "label": "Renault Clio 2",
            "unit_price": "22300.0",
            "unit_price_without_tax": "18583.33",
            "unit_tax": "3716.67"
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 2
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "ProductsController#search works when searching part of word",
      "verb": "GET",
      "path": "/products/search",
      "versions": [
        "1.0"
      ],
      "query": "query=07",
      "request_data": null,
      "response_data": {
        "products": [
          {
            "id": 13856,
            "label": "Peugeot 207",
            "unit_price": "11385.0",
            "unit_price_without_tax": "9487.5",
            "unit_tax": "1897.5"
          },
          {
            "id": 13857,
            "label": "Peugeot 307",
            "unit_price": "25505.0",
            "unit_price_without_tax": "23186.36",
            "unit_tax": "2318.64"
          },
          {
            "id": 13858,
            "label": "Peugeot 407",
            "unit_price": "8550.0",
            "unit_price_without_tax": "8104.27",
            "unit_tax": "445.73"
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 1,
          "total_entries": 3
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "ProductsController pagination paginates by 25 without params",
      "verb": "GET",
      "path": "/products/search",
      "versions": [
        "1.0"
      ],
      "query": "query=Renault",
      "request_data": null,
      "response_data": {
        "products": [
          {
            "id": 13859,
            "label": "Renault",
            "unit_price": "24040.0",
            "unit_price_without_tax": "21854.55",
            "unit_tax": "2185.45"
          },
          {
            "id": 13860,
            "label": "Renault",
            "unit_price": "22970.0",
            "unit_price_without_tax": "21772.51",
            "unit_tax": "1197.49"
          },
          {
            "id": 13861,
            "label": "Renault",
            "unit_price": "22375.0",
            "unit_price_without_tax": "18645.83",
            "unit_tax": "3729.17"
          },
          {
            "id": 13862,
            "label": "Renault",
            "unit_price": "9360.0",
            "unit_price_without_tax": "9360.0",
            "unit_tax": "0.0"
          },
          {
            "id": 13863,
            "label": "Renault",
            "unit_price": "22230.0",
            "unit_price_without_tax": "21071.09",
            "unit_tax": "1158.91"
          },
          {
            "id": 13864,
            "label": "Renault",
            "unit_price": "23585.0",
            "unit_price_without_tax": "21440.91",
            "unit_tax": "2144.09"
          },
          {
            "id": 13865,
            "label": "Renault",
            "unit_price": "12110.0",
            "unit_price_without_tax": "11009.09",
            "unit_tax": "1100.91"
          },
          {
            "id": 13866,
            "label": "Renault",
            "unit_price": "19665.0",
            "unit_price_without_tax": "18639.81",
            "unit_tax": "1025.19"
          },
          {
            "id": 13867,
            "label": "Renault",
            "unit_price": "9605.0",
            "unit_price_without_tax": "9605.0",
            "unit_tax": "0.0"
          },
          {
            "id": 13868,
            "label": "Renault",
            "unit_price": "26750.0",
            "unit_price_without_tax": "25355.45",
            "unit_tax": "1394.55"
          },
          {
            "id": 13869,
            "label": "Renault",
            "unit_price": "23215.0",
            "unit_price_without_tax": "21104.55",
            "unit_tax": "2110.45"
          },
          {
            "id": 13870,
            "label": "Renault",
            "unit_price": "28470.0",
            "unit_price_without_tax": "28470.0",
            "unit_tax": "0.0"
          },
          {
            "id": 13871,
            "label": "Renault",
            "unit_price": "12370.0",
            "unit_price_without_tax": "11725.12",
            "unit_tax": "644.88"
          },
          {
            "id": 13872,
            "label": "Renault",
            "unit_price": "12750.0",
            "unit_price_without_tax": "12085.31",
            "unit_tax": "664.69"
          },
          {
            "id": 13873,
            "label": "Renault",
            "unit_price": "19995.0",
            "unit_price_without_tax": "19995.0",
            "unit_tax": "0.0"
          },
          {
            "id": 13874,
            "label": "Renault",
            "unit_price": "29255.0",
            "unit_price_without_tax": "27729.86",
            "unit_tax": "1525.14"
          },
          {
            "id": 13875,
            "label": "Renault",
            "unit_price": "29655.0",
            "unit_price_without_tax": "26959.09",
            "unit_tax": "2695.91"
          },
          {
            "id": 13876,
            "label": "Renault",
            "unit_price": "23350.0",
            "unit_price_without_tax": "22132.7",
            "unit_tax": "1217.3"
          },
          {
            "id": 13877,
            "label": "Renault",
            "unit_price": "27595.0",
            "unit_price_without_tax": "22995.83",
            "unit_tax": "4599.17"
          },
          {
            "id": 13878,
            "label": "Renault",
            "unit_price": "27325.0",
            "unit_price_without_tax": "24840.91",
            "unit_tax": "2484.09"
          },
          {
            "id": 13879,
            "label": "Renault",
            "unit_price": "17315.0",
            "unit_price_without_tax": "16412.32",
            "unit_tax": "902.68"
          },
          {
            "id": 13880,
            "label": "Renault",
            "unit_price": "25040.0",
            "unit_price_without_tax": "25040.0",
            "unit_tax": "0.0"
          },
          {
            "id": 13881,
            "label": "Renault",
            "unit_price": "14505.0",
            "unit_price_without_tax": "13186.36",
            "unit_tax": "1318.64"
          },
          {
            "id": 13882,
            "label": "Renault",
            "unit_price": "24925.0",
            "unit_price_without_tax": "23625.59",
            "unit_tax": "1299.41"
          },
          {
            "id": 13883,
            "label": "Renault",
            "unit_price": "18975.0",
            "unit_price_without_tax": "17250.0",
            "unit_tax": "1725.0"
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 25,
          "total_pages": 2,
          "total_entries": 30
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "ProductsController pagination respects page param",
      "verb": "GET",
      "path": "/products/search",
      "versions": [
        "1.0"
      ],
      "query": "query=Renault&page=2",
      "request_data": null,
      "response_data": {
        "products": [
          {
            "id": 13944,
            "label": "Renault",
            "unit_price": "18575.0",
            "unit_price_without_tax": "16886.36",
            "unit_tax": "1688.64"
          },
          {
            "id": 13945,
            "label": "Renault",
            "unit_price": "21010.0",
            "unit_price_without_tax": "21010.0",
            "unit_tax": "0.0"
          },
          {
            "id": 13946,
            "label": "Renault",
            "unit_price": "13650.0",
            "unit_price_without_tax": "12938.39",
            "unit_tax": "711.61"
          },
          {
            "id": 13947,
            "label": "Renault",
            "unit_price": "19450.0",
            "unit_price_without_tax": "19450.0",
            "unit_tax": "0.0"
          },
          {
            "id": 13948,
            "label": "Renault",
            "unit_price": "16305.0",
            "unit_price_without_tax": "14822.73",
            "unit_tax": "1482.27"
          }
        ],
        "pagination": {
          "page": 2,
          "page_size": 25,
          "total_pages": 2,
          "total_entries": 30
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    },
    {
      "title": "ProductsController pagination respects per_page param",
      "verb": "GET",
      "path": "/products/search",
      "versions": [
        "1.0"
      ],
      "query": "query=Renault&per_page=7",
      "request_data": null,
      "response_data": {
        "products": [
          {
            "id": 13979,
            "label": "Renault",
            "unit_price": "26135.0",
            "unit_price_without_tax": "21779.17",
            "unit_tax": "4355.83"
          },
          {
            "id": 13980,
            "label": "Renault",
            "unit_price": "27445.0",
            "unit_price_without_tax": "22870.83",
            "unit_tax": "4574.17"
          },
          {
            "id": 13981,
            "label": "Renault",
            "unit_price": "24570.0",
            "unit_price_without_tax": "23289.1",
            "unit_tax": "1280.9"
          },
          {
            "id": 13982,
            "label": "Renault",
            "unit_price": "22560.0",
            "unit_price_without_tax": "21383.89",
            "unit_tax": "1176.11"
          },
          {
            "id": 13983,
            "label": "Renault",
            "unit_price": "25210.0",
            "unit_price_without_tax": "25210.0",
            "unit_tax": "0.0"
          },
          {
            "id": 13984,
            "label": "Renault",
            "unit_price": "8840.0",
            "unit_price_without_tax": "8840.0",
            "unit_tax": "0.0"
          },
          {
            "id": 13985,
            "label": "Renault",
            "unit_price": "29485.0",
            "unit_price_without_tax": "27947.87",
            "unit_tax": "1537.13"
          }
        ],
        "pagination": {
          "page": 1,
          "page_size": 7,
          "total_pages": 5,
          "total_entries": 30
        }
      },
      "code": 200,
      "show_in_doc": 1,
      "recorded": true
    }
  ]
}